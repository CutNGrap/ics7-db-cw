% !TeX spellcheck = ru_RU
\chapter{Конструкторский раздел}

В данном разделе рассматриваются сущности проектируемой базы данных, спроектированы триггер и функция.

\section{Формализация сущностей системы}
На основе ER-диаграммы (рис. \ref{img:ER}) спроектированы таблицы базы данных.

\subsection*{Таблица Group}

Содержит информацию об академических группах и включает следующие поля

\begin{enumerate}
	\item id --- индетификатор группы, являющийся первичным ключом;
	\item group\_num --- номер группы (уникальный для потока), целочисленный тип;
	\item faculty --- название факультета, символьный тип;
	\item qualification --- квалификация (бакалавр, специалист и т.д.), символьный тип;
	\item creation --- год создания группы, целочисленный тип.
\end{enumerate}


\subsection*{Таблица Student}

Содержит информацию о студентах и включает следующие поля:

\begin{enumerate}
	\item id --- индетификатор студента, являющийся первичным ключом;
	\item group --- группа студента, внешний ключ;
	\item FIO --- ФИО студента, символьный тип;
	\item book\_num --- номер зачетной книжки студента (уникальный для года поступления), целочисленный тип;
	\item birth --- дата рождения, тип-дата;
	\item enrollment --- год поступления, целочисленный тип.
\end{enumerate}

\subsection*{Таблица Theme}

Содержит информацию о темах курсовых проектов и включает следующие поля:

\begin{enumerate}
	\item id --- индетификатор темы, являющийся первичным ключом;
	\item name --- название темы, символьный тип;
	\item complexity --- сложность темы по 10-бальной шкале, целочисленный тип;
	\item first\_time --- год первой реализации темы, целочисленный тип;
\end{enumerate}

\subsection*{Таблица Source}

Содержит информацию о литературных источников курсовых проектов и включает следующие поля:

\begin{enumerate}
	\item id --- индетификатор источника, являющийся первичным ключом;
	\item name --- название источника, символьный тип;
	\item type --- тип источника (учебник, статья и т.д.), символьный тип;
	\item author --- список авторов, символьный тип;
	\item creation --- год создания источника, целочисленный тип;
\end{enumerate}

\subsection*{Таблица Project}

Содержит информацию о курсовых проектах и включает следующие поля:

\begin{enumerate}
	\item id --- индетификатор проекта, являющийся первичным ключом;
	\item theme\_id --- тема проекта, внешний ключ;
	\item author\_id --- автор проекта, внешний ключ;
	\item mark --- оценка проекта, целочисленный тип;
	\item passed --- дата сдачи проекта, тип-дата;
\end{enumerate}


\section{Ролевая модель}

Для обеспечения работы пользователей с системой управления базами данных, выделена
следующая ролевая модель.

\subsubsection*{Студент StUser}

\begin{enumerate}
	\item SELECT над таблицей Theme.
	\item SELECT над таблицей Group.
\end{enumerate}


\subsubsection*{Преподаватель TeUser}

	SELECT над таблицами Theme, Group, Student, Source, Project.



\subsubsection*{Администратор AdmUser}

	Все права над Theme, Group, Student, Source, Project.


\section{Разработка триггера и функции}

В разрабатываемой базе данных предусмотрена функция, выполняющая ...

Также в системе представлен INSERT/UPDATE триггер, который при добавлении в базу нового курсового проекта или изменения уже существующего, проверяет, что год его сдачи больше или равен году первой реализации соответствующей темы. В противном случае триггер меняет год первой реализации данной темы на год сдачи проекта.


\section{Вывод}
В данном разделе рассматриваются сущности проектируемой базы данных, спроектированы триггер и функция.